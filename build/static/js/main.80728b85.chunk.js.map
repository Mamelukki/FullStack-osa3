{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","removePerson","react_default","a","createElement","name","number","id","onClick","Filter","showSearch","handleShowSearch","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","Error","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowSearch","_useState9","_useState10","setMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","personsToShow","filter","toLowerCase","includes","find","p","window","confirm","setTimeout","components_Notification","components_Error","components_Filter","event","target","components_PersonForm","preventDefault","alert","changedPerson","objectSpread","returnedPerson","map","catch","error","console","log","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.80728b85.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n    return (\n      <div>\n      {person.name} {person.number} <button id={person.id} name={person.name} onClick={removePerson}>poista</button>\n      </div>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = ({ showSearch, handleShowSearch }) => {\n  return(\n    <form>\n      <div>\n        rajaa näytettäviä: <input\n        value={showSearch} \n        onChange={handleShowSearch}\n        />\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return(\n    <form onSubmit={addPerson}>\n      <div>\n        nimi: <input \n        value={newName}\n        onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        numero: <input \n        value={newNumber}\n        onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n}\n\nexport default Error","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showSearch, setShowSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {    \n    personService\n      .getAll().then(data => {\n        setPersons(data)\n      })\n  }, [])\n\nconst personsToShow = persons.filter(person => person.name.toLowerCase().includes(showSearch.toLowerCase()))\n\nconst rows = () => personsToShow.map(person =>\n    <Person\n      key={person.id}\n      person={person}\n      removePerson={() => removePerson(person.id)}\n    />\n)\n\nconst addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) { \n      alert(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`);\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber }\n\n      personService\n        .update(person.id, changedPerson)\n          .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n          setMessage(\n            `Päivitettiin henkilön '${person.name} numero'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        }).catch(error => {\n            setErrorMessage(\n              `Henkilö ${person.name} on jo poistettu`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n    } else {\n      const personObject = {\n          name: newName,\n          number: newNumber,\n      }\n\n      personService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n\n        setMessage(\n          `Lisättiin '${returnedPerson.name}'`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }).catch(error => {\n        console.log(error.response.data)\n        setErrorMessage(error.response.data.error)\n      })\n    }\n\n    setNewName('')\n    setNewNumber('')\n}\n\nconst removePerson = id => {\n  const person = persons.find(p => p.id === id)\n  window.confirm(`Poistetaanko ${person.name}`);\n\n  personService\n    .remove(id)\n      .then(response => {        \n        setPersons(persons.filter(p => p.id !== id))\n\n        setMessage(\n          `Poistettiin '${person.name}'`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n}\n\n\nconst handleNameChange = (event) => {\n    setNewName(event.target.value)\n}\n\nconst handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n}\n\nconst handleShowSearch = (event) => {\n    setShowSearch(event.target.value)\n}\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={message} />\n      <Error message={errorMessage} />\n      <Filter showSearch={showSearch} handleShowSearch={handleShowSearch} />\n      <h2>Lisää uusi</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numerot</h2>\n      {rows()} \n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App  />,\n    document.getElementById('root')\n)"],"sourceRoot":""}