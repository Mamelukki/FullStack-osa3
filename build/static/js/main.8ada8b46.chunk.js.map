{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","removePerson","react_default","a","createElement","name","number","id","onClick","Filter","showSearch","handleShowSearch","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","Error","baseUrl","services_persons","newObject","axios","post","then","response","data","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowSearch","_useState9","_useState10","setMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","console","log","get","personsToShow","filter","toLowerCase","includes","find","p","window","confirm","personService","setTimeout","components_Notification","components_Error","components_Filter","event","target","components_PersonForm","preventDefault","alert","changedPerson","objectSpread","returnedPerson","map","catch","error","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8ada8b46.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n    return (\n      <div>\n      {person.name} {person.number} <button id={person.id} name={person.name} onClick={removePerson}>poista</button>\n      </div>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = ({ showSearch, handleShowSearch }) => {\n  return(\n    <form>\n      <div>\n        rajaa näytettäviä: <input\n        value={showSearch} \n        onChange={handleShowSearch}\n        />\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return(\n    <form onSubmit={addPerson}>\n      <div>\n        nimi: <input \n        value={newName}\n        onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        numero: <input \n        value={newNumber}\n        onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n}\n\nexport default Error","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showSearch, setShowSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {    \n    console.log('effect')    \n    axios\n      .get('http://localhost:3001/persons')      \n      .then(response => {        \n        console.log('promise fulfilled')        \n        setPersons(response.data)\n      })  \n  }, [])  \n\nconst personsToShow = persons.filter(person => person.name.toLowerCase().includes(showSearch.toLowerCase()))\n\nconst rows = () => personsToShow.map(person =>\n    <Person\n      key={person.id}\n      person={person}\n      removePerson={() => removePerson(person.id)}\n    />\n)\n\nconst addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) { \n      alert(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`);\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber }\n\n      personService\n        .update(person.id, changedPerson)\n          .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n          setMessage(\n            `Päivitettiin henkilön '${person.name} numero'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        }).catch(error => {\n            setErrorMessage(\n              `Henkilö ${person.name} on jo poistettu`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n    } else {\n      const personObject = {\n          name: newName,\n          number: newNumber,\n      }\n\n      personService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n\n        setMessage(\n          `Lisättiin '${returnedPerson.name}'`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }) \n    }\n\n    setNewName('')\n    setNewNumber('')\n}\n\nconst removePerson = id => {\n  const person = persons.find(p => p.id === id)\n  window.confirm(`Poistetaanko ${person.name}`);\n\n  personService\n    .remove(id)\n      .then(response => {        \n        setPersons(persons.filter(p => p.id !== id))\n\n        setMessage(\n          `Poistettiin '${person.name}'`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n}\n\n\nconst handleNameChange = (event) => {\n    setNewName(event.target.value)\n}\n\nconst handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n}\n\nconst handleShowSearch = (event) => {\n    setShowSearch(event.target.value)\n}\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={message} />\n      <Error message={errorMessage} />\n      <Filter showSearch={showSearch} handleShowSearch={handleShowSearch} />\n      <h2>Lisää uusi</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numerot</h2>\n      {rows()} \n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App  />,\n    document.getElementById('root')\n)"],"sourceRoot":""}